---
title: "Senegal Data Visualization"
output: 
  flexdashboard::flex_dashboard:
        orientation: columns
        theme:
            bg: "#dbd9d9"
            fg: "#285585"
            primary: "#285585"
            base_font: !expr bslib::font_google("Lato")
        vertical_layout: fill
runtime: shiny
---

```{r setup, include=FALSE}
library(shiny)
library(flexdashboard)
library(shinydashboard)
library(shinythemes)
library(shinyWidgets)
library(leaflet)
library(leaflet.extras2)
library(mapview)
library(scales)
library(dplyr)
library(htmltools)
library(ggplot2)
library(RColorBrewer)
library(fmsb)
library(psych)
library(shapefiles)
library(ggradar)
library(ggcorrplot)
library(plotly)
library(DT)
library(sf)
```

```{r message=FALSE}

Sys.setenv(SHAPE_RESTORE_SHX="YES")
places <- st_read("Shapefiles/zonal_stats.shp", stringsAsFactors=FALSE, quiet=TRUE)
placeBase <- read.csv("Data/Full Data.csv", sep=",", dec=".")
units <- read.csv("Data/Units.csv", sep = ",", dec = ".")
economic <- read.csv("Data/Economic.csv", sep = ",", dec = ".")
social <- read.csv("Data/Social_F.csv", sep = ",", dec = ".")
human <- read.csv("Data/Human.csv", sep = ",", dec = ".")
production <- read.csv("Data/Production.csv", sep = ",", dec = ".")
environment <- read.csv("Data/Environment.csv", sep = ",", dec = ".")

```

# Instructions

## Column {data-width="700"}

### Instructions

```{r}
p(style="text-align: center","******* A video will be included here *******")
```

# Visualization

## Inputs {.sidebar data-width="350"}

```{r warning=FALSE}
####### Map Filter

conditionalPanel(tags$style(type="text/css",
                 ".shiny-output-error { visibility: hidden; }",
                 ".shiny-output-error:before { visibility: hidden; }"),
                  condition = "input.tabselected==1",
                  uiOutput("select"),
                  uiOutput("yearmap"),
                 h6("Mean or sum of data between those years:"),
                 uiOutput("morsummap")
                )

output$select <- renderUI({
    varSelectInput("select",
                   "Data you want to visualize on map:",
                   subset(placeBase,select = -c(1,2)))
  })
  
output$yearmap <- renderUI({
    
    year <- toString(names(subset(placeBase, select = c(2))))
    choice <- placeBase %>%
      group_by(Year = eval(parse(text = year)))
    minimo <- min(choice$Year)
    maximo <- max(choice$Year)
    sliderInput("yearmap",
                "Choose the mean between below years or one year:",
                min = minimo,
                max = maximo,
                value = c(minimo, maximo),
                step = 1,
                sep = "")
    
  })

output$morsummap <- renderUI({
  
  switchInput(
   inputId = "morsummap",
   value = TRUE,
   onLabel = "Mean",
   offLabel = "Sum",
   width = "400px")
  
})

```

```{r warning=FALSE}
####### SIAF Filter

conditionalPanel(condition = "input.tabselected==2",
                uiOutput("placeoryearSIAF"),
                uiOutput("selectplacesSIAF"),
                uiOutput("yearSIAF"),
                uiOutput("dataSIAF"))
                
output$placeoryearSIAF <- renderUI({
  
  selectInput("placeoryearSIAF",
               h6("Compare different districts in years or the same district in different years"),
               choices = c("Compare Districts" = "MD",
                           "Compare Years" = "SD")
  )
  
})

output$selectplacesSIAF <- renderUI({
  place <- toString(names(subset(placeBase, select = c(1))))
  choice <- placeBase %>%
    group_by(States = eval(parse(text = place)))
  
  if(input$placeoryearSIAF == "MD"){
    
    selectizeInput("selectplacesSIAF",
                   h6("Places you want to visualize on graph:"),
                   choices = c("Choose up to 10 Districts" = '',
                               choice$States),
                   multiple = TRUE,
                   options = list(maxItems = 10))
  }
  
  else if(input$placeoryearSIAF == "SD"){
    selectInput("selectplacesSIAF",
                h6("Place you want to visualize on graph:"),
                choices = c("Choose a District" = '',
                            choice$States))
  }
  
})

output$yearSIAF <- renderUI({
  
  year <- toString(names(subset(placeBase, select = c(2))))
  choice <- placeBase %>%
    group_by(Year = eval(parse(text = year)))
  minimo <- min(choice$Year)
  maximo <- max(choice$Year)
  
  selectizeInput("yearSIAF",
                   h6("Choose years you want to compare"),
                   choices = c("Choose years" = '',
                               choice$Year),
                   multiple = TRUE)
    
  
})

output$dataSIAF <- renderUI({
  
  place <- toString(names(subset(placeBase, select = c(1))))
  period <- toString(names(subset(placeBase, select = c(2))))
   
  production_filtered <- production %>%
        filter(eval(parse(text = place)) %in% input$selectplacesSIAF,
               eval(parse(text = period)) %in% input$yearSIAF) %>%
        select_if(~ !any(is.na(.)))
  
  economic_filtered <- economic %>%
    filter(eval(parse(text = place)) %in% input$selectplacesSIAF,
           eval(parse(text = period)) %in% input$yearSIAF) %>%
    select_if(~ !any(is.na(.)))
  
  environment_filtered <- environment %>%
    filter(eval(parse(text = place)) %in% input$selectplacesSIAF,
           eval(parse(text = period)) %in% input$yearSIAF) %>%
    select_if(~ !any(is.na(.)))
  
  human_filtered <- human %>%
    filter(eval(parse(text = place)) %in% input$selectplacesSIAF,
           eval(parse(text = period)) %in% input$yearSIAF) %>%
    select_if(~ !any(is.na(.)))
  
  social_filtered <- social %>%
    filter(eval(parse(text = place)) %in% input$selectplacesSIAF,
           eval(parse(text = period)) %in% input$yearSIAF) %>%
    select_if(~ !any(is.na(.)))
  
  shinyWidgets::pickerInput(
    inputId = "dataSIAF",
    label = h6("Select what data you want to visualize on radar plot:"),
    choices = list(
      Production = names(subset(production_filtered, select = -c(1,2))),
      Economic = names(subset(economic_filtered, select = -c(1,2))),
      Social = names(subset(social_filtered, select = -c(1,2))),
      Human = names(subset(human_filtered, select = -c(1,2))),
      Environment = names(subset(environment_filtered, select = -c(1,2)))),
    multiple = TRUE)
  
})
```

```{r warning=FALSE}
####### Bar Filter

conditionalPanel(condition = "input.tabselected==3",
                uiOutput("placesBar"),
                uiOutput("yearBar"),
                h6("Mean or sum of data between those years:"),
                uiOutput("morsumbar"),
                uiOutput("dataBar")
              )

output$placesBar <- renderUI({
    place <- toString(names(subset(placeBase, select = c(1))))
    choice <- placeBase %>%
      group_by(States = eval(parse(text = place)))
    
    selectizeInput("placesBar",
                   h6("Places you want to visualize on graph:"),
                   choices = c("Choose up to 10 Districts" = '',
                             choice$States),
                   multiple = TRUE,
                   options = list(maxItems = 10))
    
  })
  
output$yearBar <- renderUI({
  
  year <- toString(names(subset(placeBase, select = c(2))))
  choice <- placeBase %>%
    group_by(Year = eval(parse(text = year)))
  minimo <- min(choice$Year)
  maximo <- max(choice$Year)
  
  sliderInput("yearBar",
              h6("Choose the years that will be ploted::"),
              min = minimo,
              max = maximo,
              value = c(minimo, maximo),
              step = 1,
              sep = "")
  
})

output$morsumbar <- renderUI({
  
  switchInput(
   inputId = "morsumbar",
   value = TRUE,
   onLabel = "Mean",
   offLabel = "Sum")
  
})

output$dataBar <- renderUI({
  
  varSelectizeInput("dataBar",
                    h6("Select what data you want to visualize: "),
                    subset(placeBase,select = -c(1,2))
                    )
  
})

```

```{r warning=FALSE}
####### Correlation Filter

conditionalPanel(condition = "input.tabselected==4",
                uiOutput("placeCor"),
                uiOutput("yearCor"),
                uiOutput("dataCor")
              )

output$placeCor <- renderUI({
  
  place <- toString(names(subset(placeBase, select = c(1))))
  choice <- placeBase %>%
    group_by(States = eval(parse(text = place)))
  
  selectInput("placeCor",
              h6("Places you want to visualize on graph:"),
              choices = c("Choose one District" = '',
                          choice$States))
  
})

output$yearCor <- renderUI({
  
  year <- toString(names(subset(placeBase, select = c(2))))
  choice <- placeBase %>%
    group_by(Year = eval(parse(text = year)))
  
  selectizeInput("yearCor",
                   h6("Choose years below which you want to correlate"),
                   choices = c("Choose your years" = '',
                               choice$Year),
                   multiple = TRUE)
  
})

filterCor <- reactive({
  
  place <- toString(names(subset(placeBase, select = c(1))))
  period <- toString(names(subset(placeBase, select = c(2))))
  
  placeBase %>%
    filter(eval(parse(text = place)) %in% input$placeCor,
           eval(parse(text = period)) %in% input$yearCor) %>%
    select_if(~ !any(is.na(.)))
  
})

output$dataCor <- renderUI({
  
  shinyWidgets::pickerInput(inputId = "dataCor",
                            label = h6("Select what data you want to correlate: (up to 9 variables)"),
                            choices = names(subset(filterCor(),select = -c(1,2))),
                            multiple = TRUE,
                            options = list(maxItems = 9)
        )
  
})

```

```{r warning=FALSE}
####### Line Filter

conditionalPanel(condition = "input.tabselected==5",
                uiOutput("placesLine"),
                uiOutput("yearLine"),
                uiOutput("dataLine")
              )

output$placesLine <- renderUI({
    
  place <- toString(names(subset(placeBase, select = c(1))))
  choice <- placeBase %>%
    group_by(States = eval(parse(text = place)))
  
  selectizeInput("placesLine",
                 h6("Places you want to visualize on graph:"),
                 choices = c("Choose up to 10 Districts" = '',
                             choice$States),
                 multiple = TRUE,
                 options = list(maxItems = 10))
  
})
  
output$yearLine <- renderUI({
  
  year <- toString(names(subset(placeBase, select = c(2))))
  choice <- placeBase %>%
    group_by(Year = eval(parse(text = year)))
  minimo <- min(choice$Year)
  maximo <- max(choice$Year)
  
  sliderInput("yearLine",
              h6("Choose the years that will be ploted:"),
              min = minimo,
              max = maximo,
              value = c(minimo, maximo),
              step = 1,
              sep = "")
  
})

output$dataLine <- renderUI({
  
  varSelectInput("dataLine",
                     h6("Select what data you want to correlate: "),
                     subset(placeBase,select = -c(1,2)))
  
})

```

## Outputs {data-width="700"}

```{r warning=FALSE}
tabsetPanel(type = "tabs",
            id = "tabselected",
            tabPanel(style = "margin: 15px",
                     "Map",
                     value=1,
                     span(textOutput("maptxt"), style="text-align:center; font-weight: bold"),
                     leafletOutput("mymap"),
                      span(uiOutput("notavmap"),
                           style="text-align:center; font-weight: bold")
            ),
            tabPanel(style = "margin: 15px",
                     "SIAF",
                     value=2,
                     span(textOutput("plottxtSIAF"),style="text-align:center; font-weight: bold"),
                     plotlyOutput("graphSIAF")
            ),
            tabPanel(style = "margin: 15px",
                     "Correlation Chart",
                     value=4,
                     span(textOutput("plottxtCor"),style="text-align:center; font-weight: bold"),
                     plotlyOutput("graphCor")
            ),
            tabPanel(style = "margin: 15px",
                     "Line Chart",
                     value=5,
                     span(textOutput("plottxtLine"),style="text-align:center; font-weight: bold"),
                     plotlyOutput("graphLine")
            ),
            tabPanel(style = "margin: 15px",
                     "Bar Chart",
                     value=3,
                     span(textOutput("plottxtBar"),style="text-align:center; font-weight: bold"),
                     plotlyOutput("graphBar")
            )
          )
```

```{r warning=FALSE}
####### Map Output

dataInput <- reactive({
  place <- toString(names(subset(placeBase, select = c(1))))
  period <- toString(names(subset(placeBase, select = c(2))))
  
  placeOrder <- unique(placeBase[,1])
  
  choice <- toString(input$select)
  
  if(input$morsummap == TRUE){
    placeBase %>%
      filter(between(eval(parse(text = period)), input$yearmap[1], input$yearmap[2]))%>%
      group_by(Districts = eval(parse(text = place))) %>%
      summarise(Data = mean(eval(parse(text = choice)), na.rm=TRUE)) %>%
      arrange(factor(Districts, levels = placeOrder))
  }
  else if(input$morsummap == FALSE){
    placeBase %>%
      filter(between(eval(parse(text = period)), input$yearmap[1], input$yearmap[2]))%>%
      group_by(Districts = eval(parse(text = place))) %>%
      summarise(Data = sum(eval(parse(text = choice)), na.rm=TRUE)) %>%
      arrange(factor(Districts, levels = placeOrder))
  }
  
  
})

palette <- reactive({
  colorNumeric(c("#d7191c","#fdae61","#ffffbf","#abd9e9", "#2c7bb6"), domain = dataInput()$Data, reverse = TRUE)
})

pale <- reactive({
    colorNumeric(c("#d7191c","#fdae61","#ffffbf","#abd9e9", "#2c7bb6"), domain = dataInput()$Data)
})

labels <- reactive({
  titulo <- toString(input$select)
  unity <- units %>%
    filter(Name == titulo)
  unidade <- toString(unity$Unit)
  
  paste("<p>", dataInput()$Districts, "<p>",
        "<p>", titulo, ": ", round(dataInput()$Data, digits = 2), " ", unidade, "<p>",
        sep ="")
  
})

output$mymap <- renderLeaflet({
  
  titulo <- toString(input$select)
  unity <- units %>%
    filter(Name == titulo)
  unidade <- toString(unity$Unit)
  
  if(!all(is.na(dataInput()$Data))){
    leaflet(width = 200, height = 300) %>%
        addTiles() %>%
        addPolygons( data = places,
                     weight = 1,
                     smoothFactor = 0.5,
                     fillOpacity = 0.8,
                     color = ~pale()(dataInput()$Data),
                     highlight = highlightOptions(
                       weight = 5,
                       color = "#666666",
                       fillOpacity = 0.7,
                       bringToFront = TRUE
                     ),
                     label = lapply(labels(), HTML)
        ) %>%
        addLegend(pal = palette(),
                  values = dataInput()$Data,
                  opacity = 0.7,
                  position = "bottomright",
                  title = unidade,
                  na.label = "n/a", 
                  labFormat = labelFormat(transform = function(x) sort(x, decreasing = TRUE)))
    }
    else if(all(is.na(dataInput()$Data))){
      leaflet(width = 200, height = 300) %>%
        addTiles() %>%
        addPolygons( data = places,
                     weight = 1,
                     smoothFactor = 0.5,
                     fillOpacity = 0.8,
                     color = "#808080",
                     highlight = highlightOptions(
                       weight = 5,
                       color = "#666666",
                       fillOpacity = 0.7,
                       bringToFront = TRUE
                     ),
                     label = lapply(labels(), HTML)
        )
    }
  
})

output$maptxt <- renderText({
  
  str2 = input$select
  str3 = " from "
  str4 = input$yearmap[1]
  str5 = " to "
  str6 = input$yearmap[2]
  str1 = " of "
  
  if (input$yearmap[1] != input$yearmap[2]){
    
    result = paste(str2,str3,str4,str5,str6)
    
  }
  
  else if(input$yearmap[1] == input$yearmap[2]){
    
    result = paste(str2,str1,str4)
    
  }
  
  result
  
})

output$notavmap <- renderText({
  
  if(all(is.na(dataInput()$Data))){
    "No data available on this year"
  }
  
  else if(any(is.na(dataInput()$Data))){
    "n/a = No Available"
  }
})

```

```{r warning=FALSE}
####### SIAF Output

dataInputGraphSIAF <- reactive({
  place <- toString(names(subset(placeBase, select = c(1))))
  period <- toString(names(subset(placeBase, select = c(2))))
  
  
  if(input$placeoryearSIAF == "MD"){
    
    placeBase %>%
      filter(eval(parse(text = place)) %in% input$selectplacesSIAF,
             between(eval(parse(text = period)), input$yearSIAF[1], input$yearSIAF[2])) %>%
      group_by(Places = eval(parse(text = place))) %>%
      summarise_at(vars(input$dataSIAF), mean, na.rm=TRUE) %>%
      ungroup() %>%
      mutate_at(vars(-Places), scales::rescale)
    
  }
  
  else if(input$placeoryearSIAF == "SD"){
    
    placeBase %>%
      filter(eval(parse(text = place)) == input$selectplacesSIAF,
             eval(parse(text = period)) %in% input$yearSIAF) %>%
      group_by(Years = eval(parse(text = period))) %>%
      summarise_at(vars(input$dataSIAF), mean, na.rm=TRUE) %>%
      ungroup() %>%
      mutate_at(vars(-Years), scales::rescale)
    
  }
  
})

output$graphSIAF <- renderPlotly({
  
  graph <- dataInputGraphSIAF() %>%
      ggradar(
        font.radar = "roboto",
        grid.label.size = 2.5,
        axis.label.size = 3,
        group.point.size = 3
      ) + 
      theme(
        legend.position = "top",
        legend.justification = c(1, 0),
        legend.text = element_text(size = 8, family = "roboto"),
        legend.key = element_rect(fill = NA, color = NA),
        legend.background = element_blank(),
        axis.text = element_text(size=7, angle=90, vjust=5, hjust=5)
      )
  
  ggplotly(graph, tooltip = "")
  
})

output$plottxtSIAF <- renderText({
  
  str2 = "Radar Plot "
  str7 = toString(input$selectfgraphSIAF)
  str3 = "from "
  str4 = input$yearSIAF[1]
  str5 = " to "
  str6 = input$yearSIAF[2]
  str1 = "of "
  str8 = input$selectplacesSIAF
  
  if(input$placeoryearSIAF == "MD"){
    
    if (input$yearSIAF[1] != input$yearSIAF[2]){
      
      result = paste(str2, str3, str4, str5, str6)
      
    }
    
    else if(input$yearSIAF[1] == input$yearSIAF[2]){
      
      result = paste(str2, str1, str4)
      
    }
    
  }
  
  else if(input$placeoryearSIAF == "SD"){
    
    result = paste(str2,str3,str8)
    
  }
  
  result
  
})
  
```

```{r warning=FALSE}
####### Bar Plot

dataInputBar <- reactive({
  place <- toString(names(subset(placeBase, select = c(1))))
  period <- toString(names(subset(placeBase, select = c(2))))
  choiceG <- toString(input$dataBar)
  
  if(input$morsumbar == TRUE){
    placeBase %>%
      filter(eval(parse(text = place)) %in% input$placesBar,
             between(eval(parse(text = period)), input$yearBar[1], input$yearBar[2])) %>%
      group_by(Places = eval(parse(text = place))) %>%
      summarise(Data = mean(eval(parse(text = choiceG)), na.rm=TRUE))
  }
  else if(input$morsumbar == FALSE){
    placeBase %>%
      filter(eval(parse(text = place)) %in% input$placesBar,
             between(eval(parse(text = period)), input$yearBar[1], input$yearBar[2])) %>%
      group_by(Places = eval(parse(text = place))) %>%
      summarise(Data = sum(eval(parse(text = choiceG)), na.rm=TRUE))
  }
  
  
})

output$graphBar <- renderPlotly({
  
  choiceD <- toString(input$dataBar)
  unity <- units %>%
      filter(Name == choiceD)
  unidade <- toString(unity$Unit)
  
  legend <- paste(choiceD, "(", unidade, ")")
  
  barPlot <- ggplot(dataInputBar(), aes(x=Places, y=Data))+
                geom_bar(stat="identity", color="#253659", fill="#285585")+
                geom_text(aes(label=round(Data, 2)), vjust=1.6, color="#253659", size=4)+
                theme(
                  panel.background = element_rect(fill = "#dbd9d9",
                                                  colour = "#c7c7c9",
                                                  size = 0.5, linetype = "solid"),
                  axis.title.y = element_text(size = 8)
                )+
                labs(y = legend)
  
  ggplotly(barPlot)
  
})

output$plottxtBar <- renderText({
  
  str2 = "Bar Chart"
  str7 = toString(input$dataBar)
  str3 = " from "
  str4 = input$yearBar[1]
  str5 = " to "
  str6 = input$yearBar[2]
  str1 = " of "
  
  if (input$yearBar[1] != input$yearBar[2]){
    
    result = paste(str2,str1,str7,str3,str4,str5,str6)
    
  }
  
  else if(input$yearBar[1] == input$yearBar[2]){
    
    result = paste(str2,str1,str7,str1,str4)
    
  }
  
  result
})

```

```{r warning=FALSE}
####### Correlation Output

dataInputCor <- reactive({
    
  place <- toString(names(subset(filterCor(), select = c(1))))
  period <- toString(names(subset(filterCor(), select = c(2))))
  choicesD <- as.character(input$dataCor)
  
  filterCor() %>%
    group_by(Places = eval(parse(text = place)))%>%
    select_at(vars(choicesD))
  
})

output$graphCor <- renderPlotly({
  
  corGraph <- dataInputCor()
  corGraph[,1] <- NULL
  corr <- round(cor(corGraph), 1)
  
  corPlot <- ggcorrplot(corr,
                        hc.order = TRUE,
                        type = "lower",
                        lab = TRUE,
                        lab_size = 2,
                        show.diag = TRUE,
                        colors = c("red", "white","blue")) +
    theme(axis.text.x=element_text(size=7, angle=45, vjust=1, hjust=1, 
                                   margin=margin(-3,0,0,0)),
          axis.text.y=element_text(size=7, margin=margin(-3,0,0,0)),
          panel.grid.major=element_blank()) 
  
  ggplotly(corPlot)
  
})

output$plottxtCor <- renderText({
  
  str2 = "Correlation Matrix"
  str1 = " of "
  str7 = toString(input$dataCor)
  str3 = " from "
  str4 = toString(input$yearCor[1])
  str5 = " to "
  str6 = toString(input$yearCor[2])
  
  result = paste(str2,str1,str7,str3,str4,str5,str6)
  
})

```

```{r warning=FALSE}
####### Line Output

dataInputLine <- reactive({
    
  place <- toString(names(subset(placeBase, select = c(1))))
  period <- toString(names(subset(placeBase, select = c(2))))
  choicesD <- as.character(input$dataLine)
  
  placeBase %>%
    filter(eval(parse(text = place)) %in% input$placesLine,
           between(eval(parse(text = period)), input$yearLine[1], input$yearLine[2])) %>%
    group_by(Year = eval(parse(text = period)),
             Districts = eval(parse(text = place))) %>%
    select(Data = choicesD)

})

output$graphLine <- renderPlotly({
  
  choiceD <- toString(input$dataLine)
  unity <- units %>%
      filter(Name == choiceD)
  unidade <- toString(unity$Unit)
  
  legend <- paste(choiceD, "(", unidade, ")")
  
  plotLine <- ggplot(dataInputLine(), aes(x = Year, y = Data, color = Districts)) +
    geom_line()+
    theme(panel.background = element_rect(fill = "#dbd9d9"),
          axis.title.y = element_text(size = 8))+
    labs(y = legend)+
    scale_x_continuous(breaks = dataInputLine()$Year)+
    scale_y_continuous(labels = comma)

  ggplotly(plotLine)
  
})

output$plottxtLine <- renderText({
  
  str2 = "Line Chart"
  str7 = toString(input$dataLine)
  str3 = " from "
  str4 = input$yearLine[1]
  str5 = " to "
  str6 = input$yearLine[2]
  str1 = " of "
  
  if (input$yearLine[1] != input$yearLine[2]){
    
    result = paste(str2,str1,str7,str3,str4,str5,str6)
    
  }
  
  else if(input$yearLine[1] == input$yearLine[2]){
    
    result = paste(str2,str1,str7,str1,str4)
    
  }
  
  result
  
})

```

# Data

```{r}

h2("Data: ", style="margin: 10px;")

output$downloadData <- downloadHandler(
  filename = "SenegalDataset.csv",
  content = function(file) {write.csv(placeBase, file, row.names = FALSE)}
)

renderUI({
  
  downloadButton("downloadData",
                 "Download Senegal data",
                 style="margin: 10px;")
})



DT::dataTableOutput("dataInput",
                    height = "150em",
                    width = "78em")

output$dataInput <- DT::renderDataTable({placeBase},options = list(pageLength = 10,
                                                                   scrollX = TRUE))

```

# About

## Images & Links {data-width="50"}

<a href = "https://www.siildigitalagconsortium.com/"><img src="Logo.png" height="120" width="120"></a>

<h6>Digital Tools, Geospatial and Farming Systems Consortium</h6>

<br>

<a href = "https://sitoolkit.com/assessment-framework/the-five-domains-of-sustainable-intensification"><img src="SITOOLKIT.svg" height="120" width="120"></a>

<h6>Sustainable Intensification Assessment Framework</h6>

## About-text {data-width="600"}

### Description

```{r}
p (style="text-align: justify; padding: 20px", "A recent study within our team (Brown et al, under review) quantified the lack of connection between the different Sustainable Intensification Framework Domains in the current and most cited research.
Therefore, we propose the design of an Integration Platform, to facilitate the visualization of interactions between the different Sustainable Intensification Framework Domain available data-layers.
This platform aggregates and summarizes the outcomes of our team projects and open-data sources.
This tool will serve as a Sustainable Intensification Framework application, employing Senegal as a case study, allowing the comparison between districts.")
h3 (style="padding: 10px", "What is SIAF: ")
h5 (style="padding: 10px", "Productivity: ")
p (style="text-align: justify; padding: 20px", "Increasing productivity is the essential characteristic of intensification, with the goal of increasing output per unit input per unit time (season or year). Following the SI literature, this domain focuses on land as a critical input, land degradation, and threatened biodiversity from loss of natural habitat. Intensification using inputs other than land (such as labor, fertilizer and capital) is captured in the economic domain.")
h5 (style="padding: 10px", "Economic: ")
p (style="text-align: justify; padding: 20px", "This domain focuses on issues directly related to the profitability of agricultural activities and returns to factors of production. In addition to profitability, this domain includes indicators related to the productivity of inputs apart from land: water, nutrients, labor and capital. Furthermore, indicators likely to affect the probability of investment in enhancing productivity (market participation) are included.")
h5 (style="padding: 10px", "Environment: ")
p (style="text-align: justify; padding: 20px", "This domain focuses on the natural resource base that supports agriculture (e.g., soil, water), the environmental services directly affected by agricultural practices (e.g., habitat, water-holding capacity), and the level of pollution resulting from agriculture (pesticides, greenhouse gases).")
h5 (style="padding: 10px", "Human condition: ")
p (style="text-align: justify; padding: 20px", "This domain contains indicators pertaining to the individual or household, including nutrition status, food security, and capacity to learn and adapt. These indicators affect an individual and do not require social interaction or interpersonal relationships. While these factors are dependent on social interactions (such as within the household or community), they are distinct from those in the social domain which directly focus on interpersonal relationships.")
h5 (style="padding: 10px", "Social: ")
p (style="text-align: justify; padding: 20px", "This domain focuses on social interactions: equitable relationships across gender within the household, equitable relationships across social groups in a community or landscape, the level of collective action, and the ability to resolve conflicts related to agriculture and natural resource management.")
h3 (style="padding: 10px", "Authors: ")
p (style="text-align: justify; padding: 20px", "")
h3 (style="padding: 10px", "How to cite this app: ")
p (style="text-align: justify; padding: 20px"," *Citation of paper *")

```

# Data Source

```{r}

```
